{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "ai-chat-streaming-01",
  "type": "registry:block",
  "description": "AI chat with streaming responses and thinking process",
  "registryDependencies": [
    "button",
    "card",
    "input",
    "label",
    "select",
    "scroll-area",
    "avatar"
  ],
  "files": [
    {
      "path": "creative-tim/blocks/ai-chat-streaming-01/page.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { Brain, Loader2, Send } from \"lucide-react\"\n\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\"\n\nconst AI_PROVIDERS = [\n  { value: \"openai\", label: \"OpenAI\" },\n  { value: \"anthropic\", label: \"Anthropic\" },\n  { value: \"google\", label: \"Google Gemini\" },\n  { value: \"cohere\", label: \"Cohere\" },\n  { value: \"mistral\", label: \"Mistral AI\" },\n]\n\ninterface Message {\n  id: string\n  role: \"user\" | \"assistant\"\n  content: string\n  thinking?: string\n  isStreaming?: boolean\n}\n\nexport default function AIChatStreamingBlock() {\n  const [messages, setMessages] = React.useState<Message[]>([\n    {\n      id: \"1\",\n      role: \"assistant\",\n      content:\n        \"Hello! I'm your AI assistant with streaming and thinking capabilities. How can I help you today?\",\n    },\n  ])\n  const [input, setInput] = React.useState(\"\")\n  const [isLoading, setIsLoading] = React.useState(false)\n  const [provider, setProvider] = React.useState(\"openai\")\n  const [apiKey, setApiKey] = React.useState(\"\")\n  const [showThinking, setShowThinking] = React.useState(false)\n  const scrollAreaRef = React.useRef<HTMLDivElement>(null)\n\n  const simulateStreaming = async (text: string) => {\n    const words = text.split(\" \")\n    let currentText = \"\"\n\n    const messageId = Date.now().toString()\n    setMessages((prev) => [\n      ...prev,\n      {\n        id: messageId,\n        role: \"assistant\",\n        content: \"\",\n        thinking: showThinking\n          ? \"Analyzing your question and formulating a comprehensive response...\"\n          : undefined,\n        isStreaming: true,\n      },\n    ])\n\n    for (let i = 0; i < words.length; i++) {\n      currentText += (i > 0 ? \" \" : \"\") + words[i]\n      await new Promise((resolve) => setTimeout(resolve, 50))\n\n      setMessages((prev) =>\n        prev.map((msg) =>\n          msg.id === messageId\n            ? {\n                ...msg,\n                content: currentText,\n                isStreaming: i < words.length - 1,\n              }\n            : msg\n        )\n      )\n    }\n  }\n\n  const handleSend = async () => {\n    if (!input.trim() || isLoading) return\n\n    const userMessage: Message = {\n      id: Date.now().toString(),\n      role: \"user\",\n      content: input.trim(),\n    }\n\n    setMessages((prev) => [...prev, userMessage])\n    setInput(\"\")\n    setIsLoading(true)\n\n    // Simulate AI response\n    const responses = [\n      \"That's an interesting question. Based on the AI provider you've selected, I can process this with advanced natural language understanding. Let me break this down for you with a detailed analysis.\",\n      \"I understand what you're asking. Using the configured API, I can provide you with accurate information. The key aspects to consider are context, relevance, and accuracy in the response.\",\n      \"Great question! With streaming enabled, you can see my response in real-time as I process your query. This creates a more interactive and engaging experience for users.\",\n    ]\n\n    const randomResponse =\n      responses[Math.floor(Math.random() * responses.length)]\n    await simulateStreaming(randomResponse)\n    setIsLoading(false)\n  }\n\n  React.useEffect(() => {\n    if (scrollAreaRef.current) {\n      scrollAreaRef.current.scrollTop = scrollAreaRef.current.scrollHeight\n    }\n  }, [messages])\n\n  return (\n    <div className=\"container mx-auto py-8\">\n      <Card className=\"mx-auto max-w-4xl\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Brain className=\"h-6 w-6\" />\n            AI Chat with Streaming and Thinking\n          </CardTitle>\n          <div className=\"mt-4 grid gap-4 sm:grid-cols-2\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"provider\">AI Provider</Label>\n              <Select value={provider} onValueChange={setProvider}>\n                <SelectTrigger id=\"provider\">\n                  <SelectValue placeholder=\"Select provider\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {AI_PROVIDERS.map((p) => (\n                    <SelectItem key={p.value} value={p.value}>\n                      {p.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"apiKey\">API Key</Label>\n              <Input\n                id=\"apiKey\"\n                type=\"password\"\n                placeholder=\"Enter your API key\"\n                value={apiKey}\n                onChange={(e) => setApiKey(e.target.value)}\n              />\n            </div>\n          </div>\n          <div className=\"mt-2 flex items-center gap-2\">\n            <input\n              type=\"checkbox\"\n              id=\"showThinking\"\n              checked={showThinking}\n              onChange={(e) => setShowThinking(e.target.checked)}\n              className=\"h-4 w-4 rounded border-gray-300\"\n            />\n            <Label htmlFor=\"showThinking\" className=\"cursor-pointer text-sm\">\n              Show AI thinking process\n            </Label>\n          </div>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <ScrollArea\n            className=\"h-[400px] rounded-md border p-4\"\n            ref={scrollAreaRef}\n          >\n            <div className=\"space-y-4\">\n              {messages.map((message) => (\n                <div\n                  key={message.id}\n                  className={`flex gap-3 ${\n                    message.role === \"user\" ? \"justify-end\" : \"justify-start\"\n                  }`}\n                >\n                  {message.role === \"assistant\" && (\n                    <Avatar className=\"h-8 w-8\">\n                      <AvatarFallback className=\"bg-primary text-primary-foreground\">\n                        AI\n                      </AvatarFallback>\n                    </Avatar>\n                  )}\n                  <div\n                    className={`max-w-[80%] space-y-2 ${\n                      message.role === \"user\" ? \"order-first\" : \"\"\n                    }`}\n                  >\n                    {message.thinking && (\n                      <div className=\"bg-muted/50 mb-2 rounded-lg border border-dashed p-3\">\n                        <p className=\"text-muted-foreground flex items-center gap-2 text-sm\">\n                          <Brain className=\"h-4 w-4\" />\n                          <span className=\"italic\">{message.thinking}</span>\n                        </p>\n                      </div>\n                    )}\n                    <div\n                      className={`rounded-lg p-3 ${\n                        message.role === \"user\"\n                          ? \"bg-primary text-primary-foreground\"\n                          : \"bg-muted\"\n                      }`}\n                    >\n                      <p className=\"text-sm\">\n                        {message.content}\n                        {message.isStreaming && (\n                          <span className=\"ml-1 inline-block h-4 w-1 animate-pulse bg-current\" />\n                        )}\n                      </p>\n                    </div>\n                  </div>\n                  {message.role === \"user\" && (\n                    <Avatar className=\"h-8 w-8\">\n                      <AvatarFallback>U</AvatarFallback>\n                    </Avatar>\n                  )}\n                </div>\n              ))}\n              {isLoading &&\n                messages[messages.length - 1]?.role !== \"assistant\" && (\n                  <div className=\"flex gap-3\">\n                    <Avatar className=\"h-8 w-8\">\n                      <AvatarFallback className=\"bg-primary text-primary-foreground\">\n                        AI\n                      </AvatarFallback>\n                    </Avatar>\n                    <div className=\"bg-muted flex items-center gap-2 rounded-lg p-3\">\n                      <Loader2 className=\"h-4 w-4 animate-spin\" />\n                      <span className=\"text-sm\">Thinking...</span>\n                    </div>\n                  </div>\n                )}\n            </div>\n          </ScrollArea>\n          <form\n            onSubmit={(e) => {\n              e.preventDefault()\n              handleSend()\n            }}\n            className=\"flex gap-2\"\n          >\n            <Input\n              placeholder=\"Type your message...\"\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              disabled={isLoading || !apiKey}\n            />\n            <Button\n              type=\"submit\"\n              disabled={isLoading || !apiKey || !input.trim()}\n            >\n              <Send className=\"h-4 w-4\" />\n            </Button>\n          </form>\n          {!apiKey && (\n            <p className=\"text-muted-foreground text-center text-sm\">\n              Please enter your API key to start chatting\n            </p>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n",
      "type": "registry:page",
      "target": "app/ai-chat-streaming/page.tsx"
    }
  ],
  "meta": {
    "iframeHeight": "800px",
    "container": "w-full bg-surface min-h-svh flex px-4 py-12 items-center md:py-20 justify-center min-w-0",
    "mobile": "component",
    "details": "Interactive AI chat interface with real-time streaming responses and optional thinking process visualization. Features API provider selection from top 5 AI services, configurable API keys, and smooth message animations. Perfect for AI-powered chat applications, customer support bots, and conversational interfaces."
  },
  "categories": [
    "ai-agents"
  ]
}